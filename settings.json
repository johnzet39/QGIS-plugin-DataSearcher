{
    "Layers": {
        "geo_ad_constructions": {
            "columns_count": 4,
            "columnid_name": "gid",
            "fields" : {
                "gid": {
                    "label": "гид"
                },
                "kind_id": {
                    "label": "Вид",
                    "source_type": "own",
                    "col_span": 3
                },
                "_": {
                },
                "illegal": {
                    "label": "Нелегальная",
                    "source_type": "own"
                },
                "owner_id": {
                    "label": "Владелец",
                    "source_type": "other",
                    "col_span": 2
                },
                "manufacturer_id": {
                    "label": "Изготовитель",
                    "source_type": "other",
                    "source_field": "owner_id",
                    "minmax_size": [100, 3000]
                },
                "land_owner_id": {
                    "label": "Собственник",
                    "source_type1": "postgres",
                    "query_data": "select id, owner from schema_reklama.v_spr_persons_firms order by owner",
                    "field_key": "id",
                    "field_title": "owner",
                    "minmax_size": [100, 3000]
                },
                "field5": {
                    "label": "поле5",
                    "source_type": "layer",
                    "layer_name": "ad_acts",
                    "field_key": "id",
                    "field_title": "reg_number"
                },
                "address_id": {
                    "label": "Адрес",
                    "source_type": "own",
                    "isrange": "False"
                },
                "street_id": {
                    "label": "Улица",
                    "source_type": "own"
                },
                "archive_date": {
                    "label": "Дата",
                    "source_type": "own",
                    "isrange": "True"
                },
                "address": {
                    "label": "Адрес текст",
                    "source_type": "own"
                },
                "perm_date": {
                    "label": "Период действия",
                    "source_type": "custom",
                    "field_type": "DateTime",
                    "isrange": "True"
                },
                "test_checkbox": {
                    "label": "test_checkbox",
                    "source_type": "custom",
                    "field_type": "Checkbox"
                },
                "perm_code": {
                    "label": "Номер разрешения",
                    "source_type": "custom",
                    "field_type": "RangeInt"
                },
                "test_empty": {
                    "label": "test_empty",
                    "source_type": "custom"
                },
                "test_rangeint": {
                    "label": "test_rangeint",
                    "source_type": "custom",
                    "field_type": "RangeInt"
                },
                "test_combobox": {
                    "label": "combobox",
                    "source_type": "custom",
                    "field_type": "ComboBox",
                    "combobox_values": {
                        "": "",
                        "1": "value1",
                        "2": "value2"
                    }
                },
                "test_rangefloat": {
                    "label": "test_rangefloat",
                    "source_type": "custom",
                    "field_type": "RangeFloat"
                }
            },
            "query": [
                "select g.gid, g.kind_id as \"Вид\", g.address, g.archive_date, p.code as \"Номер разрешения\" ", 
                "",
                " from schema_reklama.geo_ad_constructions g ",
                " LEFT JOIN schema_reklama.ad_permissions p ON p.construction_id = g.id",
                " WHERE ",
                "     (%(gid)s is null OR g.gid = %(gid)s) ",
                " AND (%(illegal)s is null OR g.illegal = %(illegal)s)",
                " AND (%(address)s is null OR g.address like %(address)s) ",
                " AND (%(archive_date_from)s is null OR g.archive_date >= %(archive_date_from)s) ",
                " AND (%(archive_date_to)s is null OR g.archive_date < %(archive_date_to)s) ",
                " AND (%(perm_code)s is null OR p.code = %(perm_code)s)",
                " limit 10 "
            ]
            
        },
        "spr_ad_kind": {
            "columns_count": 3,
            "columnid_name": "gid",
            "fields" : {
                "id": {
                    "label": "id",
                    "source_type": "own"
                },
                "title": {
                    "label": "title",
                    "source_type": "own"
                }
            },
            "query": "select id, title from schema_reklama.spr_ad_kind"
            
        }
    }
}